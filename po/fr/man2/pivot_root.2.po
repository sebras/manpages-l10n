# French translation of manpages
# This file is distributed under the same license as the manpages-l10n package.
# Copyright © of this file:
# Christophe Blaess <https://www.blaess.fr/christophe/>, 1996-2003.
# Stéphan Rafin <stephan.rafin@laposte.net>, 2002.
# Thierry Vignaud <tvignaud@mandriva.com>, 1999, 2002.
# François Micaux, 2002.
# Alain Portal <aportal@univ-montp2.fr>, 2003-2008.
# Jean-Philippe Guérard <fevrier@tigreraye.org>, 2005-2006.
# Jean-Luc Coulon (f5ibh) <jean-luc.coulon@wanadoo.fr>, 2006-2007.
# Julien Cristau <jcristau@debian.org>, 2006-2007.
# Thomas Huriaux <thomas.huriaux@gmail.com>, 2006-2008.
# Nicolas François <nicolas.francois@centraliens.net>, 2006-2008.
# Florentin Duneau <fduneau@gmail.com>, 2006-2010.
# Simon Paillard <simon.paillard@resel.enst-bretagne.fr>, 2006, 2013-2014.
# Denis Barbier <barbier@debian.org>, 2006, 2010.
# David Prévot <david@tilapin.org>, 2010-2014.
# Jean-Philippe MENGUAL <jpmengual@debian.org>, 2021.
msgid ""
msgstr ""
"Project-Id-Version: perkamon\n"
"POT-Creation-Date: 2022-10-17 20:40+0200\n"
"PO-Revision-Date: 2021-01-22 12:45+0100\n"
"Last-Translator: Jean-Philippe MENGUAL <jpmengual@debian.org>\n"
"Language-Team: French <debian-l10n-french@lists.debian.org>\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n > 1;\n"
"X-Generator: Weblate 3.1.1\n"

#. type: TH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "PIVOT_ROOT"
msgstr "PIVOT_ROOT"

#. type: TH
#: archlinux
#, no-wrap
msgid "2022-10-08"
msgstr "8 octobre 2022"

#. type: TH
#: archlinux
#, no-wrap
msgid "Linux man-pages (unreleased)"
msgstr ""

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "NAME"
msgstr "NOM"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "pivot_root - change the root mount"
msgstr "pivot_root - Modifier le montage racine"

#. type: SH
#: archlinux
#, no-wrap
msgid "LIBRARY"
msgstr ""

#. type: Plain text
#: archlinux
msgid "Standard C library (I<libc>, I<-lc>)"
msgstr ""

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "SYNOPSIS"
msgstr "SYNOPSIS"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"B<#include E<lt>sys/syscall.hE<gt>>      /* Definition of B<SYS_*> constants */\n"
"B<#include E<lt>unistd.hE<gt>>\n"
msgstr ""
"B<#include E<lt>sys/syscall.hE<gt>>      /* Définition des constantes B<SYS_*> */\n"
"B<#include E<lt>unistd.hE<gt>>\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "B<int pivot_root(const char *>I<new_root>B<, const char *>I<put_old>B<);>"
msgid "B<int syscall(SYS_pivot_root, const char *>I<new_root>B<, const char *>I<put_old>B<);>\n"
msgstr "B<int pivot_root(const char *>I<new_root>B<, const char *>I<put_old>B<);>"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
msgid ""
"I<Note>: glibc provides no wrapper for B<pivot_root>(), necessitating the "
"use of B<syscall>(2)."
msgstr ""

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "DESCRIPTION"
msgstr "DESCRIPTION"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"B<pivot_root>()  changes the root mount in the mount namespace of the "
"calling process.  More precisely, it moves the root mount to the directory "
"I<put_old> and makes I<new_root> the new root mount.  The calling process "
"must have the B<CAP_SYS_ADMIN> capability in the user namespace that owns "
"the caller's mount namespace."
msgstr ""
"B<pivot_root>() modifie le montage racine dans l'espace de noms de montage "
"du processus appelant. Plus précisément, il déplace le montage racine dans "
"le répertoire I<put_old> et il fait de I<new_root> le nouveau montage "
"racine. Le processus appelant doit avoir la capacité B<CAP_SYS_ADMIN> dans "
"l'espace de noms de l'utilisateur à qui appartient l'espace de noms de "
"montage de l'appelant."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"B<pivot_root>()  changes the root directory and the current working "
"directory of each process or thread in the same mount namespace to "
"I<new_root> if they point to the old root directory.  (See also NOTES.)  On "
"the other hand, B<pivot_root>()  does not change the caller's current "
"working directory (unless it is on the old root directory), and thus it "
"should be followed by a B<chdir(\"/\")> call."
msgstr ""
"B<pivot_root>() change le répertoire racine et le répertoire de travail de "
"chaque processus ou de chaque thread du même espace de noms de montage en "
"I<new_root> s'ils pointent vers l'ancien répertoire de montage (voir aussi "
"les NOTES). D'un autre côté, B<pivot_root>() ne modifie pas le répertoire de "
"travail de l'appelant (sauf s'il est sur l'ancien répertoire racine), ainsi, "
"il doit être suivi d'un appel B<chdir(\"/\")>."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "The following restrictions apply:"
msgstr "Les restrictions suivantes s'appliquent\\ :"

#. type: IP
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "-"
msgstr "-"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "I<new_root> and I<put_old> must be directories."
msgstr "I<new_root> et I<put_old> doivent être des répertoires."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"I<new_root> and I<put_old> must not be on the same mount as the current root."
msgstr ""
"I<new_root> et I<put_old> ne doivent pas être sur le même montage que la "
"racine actuelle."

#. type: Plain text
#: archlinux
#, fuzzy
#| msgid ""
#| "I<put_old> must be at or underneath I<new_root>; that is, adding some "
#| "nonnegative number of \"I</..>\" prefixes to the pathname pointed to by "
#| "I<put_old> must yield the same directory as I<new_root>."
msgid ""
"I<put_old> must be at or underneath I<new_root>; that is, adding some "
"nonnegative number of \"I</..>\" suffixes to the pathname pointed to by "
"I<put_old> must yield the same directory as I<new_root>."
msgstr ""
"I<put_old> doit être sur I<new_root> ou un descendant de I<new_root>\\ : à "
"savoir qu'ajouter un nombre positif de préfixes « I</..> » au chemin vers "
"lequel pointe I<put_old> doit ramener au même répertoire que I<new_root>."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"I<new_root> must be a path to a mount point, but can't be I<\"/\">.  A path "
"that is not already a mount point can be converted into one by bind mounting "
"the path onto itself."
msgstr ""
"I<new_root> doit être un chemin vers un point de montage ; mais il ne peut "
"pas être « / ». Un chemin qui n'est pas un point de montage peut le devenir "
"en montant en miroir le point sur lui-même."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"The propagation type of the parent mount of I<new_root> and the parent mount "
"of the current root directory must not be B<MS_SHARED>; similarly, if "
"I<put_old> is an existing mount point, its propagation type must not be "
"B<MS_SHARED>.  These restrictions ensure that B<pivot_root>()  never "
"propagates any changes to another mount namespace."
msgstr ""
"Le type de propagation du montage parent de I<new_root> et le montage parent "
"du répertoire racine actuel ne doivent pas être B<MS_SHARED> ; de même, si "
"I<put_old> est un point de montage existant, son type de propagation ne doit "
"pas être B<MS_SHARED>. Ces restrictions garantissent que B<pivot_root>() ne "
"propage jamais de changement sur un autre espace de noms de montage."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "The current root directory must be a mount point."
msgstr "Le répertoire racine actuel doit être un point de montage."

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "RETURN VALUE"
msgstr "VALEUR RENVOYÉE"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
msgid ""
"On success, zero is returned.  On error, -1 is returned, and I<errno> is set "
"to indicate the error."
msgstr ""
"En cas de succès, zéro est renvoyé. En cas d'erreur, B<-1> est renvoyé et "
"I<errno> est définie pour préciser l'erreur."

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "ERRORS"
msgstr "ERREURS"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"B<pivot_root>()  may fail with any of the same errors as B<stat>(2).  "
"Additionally, it may fail with the following errors:"
msgstr ""
"B<pivot_root>() peut échouer avec une des erreurs de B<stat>(2). Il peut "
"aussi échouer avec les erreurs suivantes\\ :"

#. type: TP
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "B<EBUSY>"
msgstr "B<EBUSY>"

#.  Reconfirmed that the following error occurs on Linux 5.0 by
#.  specifying 'new_root' as "/rootfs" and 'put_old' as
#.  "/rootfs/oldrootfs", and *not* bind mounting "/rootfs" on top of
#.  itself. Of course, this is an odd situation, since a later check
#.  in the kernel code will in any case yield EINVAL if 'new_root' is
#.  not a mount point. However, when the system call was first added,
#.  'new_root' was not required to be a mount point. So, this
#.  error is nowadays probably just the result of crufty accumulation.
#.  This error can also occur if we bind mount "/" on top of itself
#.  and try to specify "/" as the 'new' (again, an odd situation). So,
#.  the EBUSY check in the kernel does still seem necessary to prevent
#.  that case.  Furthermore, the "or put_old" piece is probably
#.  redundant text (although the check is in the kernel), since,
#.  in another check, 'put_old' is required to be under 'new_root'.
#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"I<new_root> or I<put_old> is on the current root mount.  (This error covers "
"the pathological case where I<new_root> is I<\"/\">.)"
msgstr ""
"I<new_root> ou I<put_old> est sur le montage racine actuel (cette erreur "
"vaut pour le cas pathologique où I<new_root> est « / »."

#. type: TP
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "B<EINVAL>"
msgstr "B<EINVAL>"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "I<new_root> is not a mount point."
msgstr "I<new_root> n'est pas un point de montage."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "I<put_old> is not at or underneath I<new_root>."
msgstr "I<put_old> n'est pas sur I<new_root> ou un descendant."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"The current root directory is not a mount point (because of an earlier "
"B<chroot>(2))."
msgstr ""
"Le répertoire racine actuel n'est pas un point de montage (du fait d'un "
"précédent B<chroot>(2))."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "The current root is on the rootfs (initial ramfs) mount; see NOTES."
msgstr ""
"La racine actuelle est sur le montage rootfs (ramfs initial) ; voir les "
"NOTES."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"Either the mount point at I<new_root>, or the parent mount of that mount "
"point, has propagation type B<MS_SHARED>."
msgstr ""
"Soit le point de montage sur I<new_root>, soit le montage parent de ce point "
"de montage, a un type de propagation B<MS_SHARED>."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "I<put_old> is a mount point and has the propagation type B<MS_SHARED>."
msgstr ""
"I<put_old> est un point de montage et il a le type de propagation "
"B<MS_SHARED>."

#. type: TP
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "B<ENOTDIR>"
msgstr "B<ENOTDIR>"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
msgid "I<new_root> or I<put_old> is not a directory."
msgstr "I<new_root> ou I<put_old> n'est pas un répertoire."

#. type: TP
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "B<EPERM>"
msgstr "B<EPERM>"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
msgid "The calling process does not have the B<CAP_SYS_ADMIN> capability."
msgstr "Le processus appelant n'a pas la capacité B<CAP_SYS_ADMIN>."

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "VERSIONS"
msgstr "VERSIONS"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
msgid "B<pivot_root>()  was introduced in Linux 2.3.41."
msgstr "B<pivot_root>() a été introduit dans Linux 2.3.41."

#. type: SH
#: archlinux
#, no-wrap
msgid "STANDARDS"
msgstr "STANDARDS"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
msgid "B<pivot_root>()  is Linux-specific and hence is not portable."
msgstr "B<pivot_root>() est spécifique à Linux et donc non portable."

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "NOTES"
msgstr "NOTES"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"A command-line interface for this system call is provided by "
"B<pivot_root>(8)."
msgstr ""
"Une interface en ligne de commande pour cet appel système est fournie par "
"B<pivot_root>(8)."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"B<pivot_root>()  allows the caller to switch to a new root filesystem while "
"at the same time placing the old root mount at a location under I<new_root> "
"from where it can subsequently be unmounted.  (The fact that it moves all "
"processes that have a root directory or current working directory on the old "
"root directory to the new root frees the old root directory of users, "
"allowing the old root mount to be unmounted more easily.)"
msgstr ""
"B<pivot_root>() permet à un appelant de passer à un nouveau système de "
"fichiers racine tout en mettant l'ancien montage racine dans I<new_root>, "
"d'où il peut être démonté (le fait de déplacer tous les processus ayant un "
"répertoire racine ou actuel dans le répertoire racine vers une nouvelle "
"racine libère l'ancienne racine des utilisateurs, permettant de démonter "
"plus facilement l'ancien montage racine)."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"One use of B<pivot_root>()  is during system startup, when the system mounts "
"a temporary root filesystem (e.g., an B<initrd>(4)), then mounts the real "
"root filesystem, and eventually turns the latter into the root directory of "
"all relevant processes and threads.  A modern use is to set up a root "
"filesystem during the creation of a container."
msgstr ""
"L'utilisation typique de B<pivot_root>() est durant le démarrage du système, "
"lorsque le système monte un système de fichiers temporaire (par exemple un "
"B<initrd>(4)) puis monte le véritable système de fichiers et le transforme "
"éventuellement en racine pour tous les processus et threads concernés. Une "
"utilisation moderne consiste à définir un système de fichiers racine pendant "
"la création d'un conteneur."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"The fact that B<pivot_root>()  modifies process root and current working "
"directories in the manner noted in DESCRIPTION is necessary in order to "
"prevent kernel threads from keeping the old root mount busy with their root "
"and current working directories, even if they never access the filesystem in "
"any way."
msgstr ""
"Le fait que B<pivot_root>() modifie les répertoires racine et de travail du "
"processus comme indiqué dans la DESCRIPTION est nécessaire afin d'empêcher "
"les threads du noyau d'occuper l'ancien montage racine avec leurs "
"répertoires racine et de travail, même s'ils n'accèdent jamais au système de "
"fichiers en aucune manière."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"The rootfs (initial ramfs) cannot be B<pivot_root>()ed.  The recommended "
"method of changing the root filesystem in this case is to delete everything "
"in rootfs, overmount rootfs with the new root, attach I<stdin>/I<stdout>/"
"I<stderr> to the new I</dev/console>, and exec the new B<init>(1).  Helper "
"programs for this process exist; see B<switch_root>(8)."
msgstr ""
"Le rootfs (initial ramfs) ne peut pas être B<pivot_root>()é. La méthode "
"recommandée pour modifier le système de fichiers racine dans ce cas consiste "
"à tout effacer sur le rootfs, monter par-dessus la nouvelle racine, "
"rattacher I<stdin>/I<stdout>/I<stderr> au nouveau I</dev/console> et "
"exécuter le nouvel B<init>(1). Il existe des programmes d'aide pour ce "
"processus ; voir B<switch_root>(8)."

#. type: SS
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "pivot_root(\".\", \".\")"
msgstr "pivot_root(\".\", \".\")"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"I<new_root> and I<put_old> may be the same directory.  In particular, the "
"following sequence allows a pivot-root operation without needing to create "
"and remove a temporary directory:"
msgstr ""
"I<new_root> et I<put_old> peuvent être le même répertoire. En particulier, "
"la séquence suivante permet une opération pivot-root sans devoir créer et "
"supprimer un répertoire temporaire :"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid ""
"chdir(new_root);\n"
"pivot_root(\".\", \".\");\n"
"umount2(\".\", MNT_DETACH);\n"
msgstr ""
"chdir(new_root);\n"
"pivot_root(\".\", \".\");\n"
"umount2(\".\", MNT_DETACH);\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"This sequence succeeds because the B<pivot_root>()  call stacks the old root "
"mount point on top of the new root mount point at I</>.  At that point, the "
"calling process's root directory and current working directory refer to the "
"new root mount point (I<new_root>).  During the subsequent B<umount>()  "
"call, resolution of I<\".\"> starts with I<new_root> and then moves up the "
"list of mounts stacked at I</>, with the result that old root mount point is "
"unmounted."
msgstr ""
"Cette séquence réussit parce que l'appel B<pivot_root>() place le point de "
"montage racine au sommet du nouveau point de montage racine sur I</>. Alors, "
"le répertoire racine et celui de travail du processus appelant se rapportent "
"au nouveau point de montage racine (I<new_root>). Lors de l'appel "
"B<umount>() suivant, la résolution de I<\".\"> commence par I<new_root> puis "
"monte la liste des points de montage empilés dans I</>, d'où il résulte que "
"l'ancien point de montage est démonté."

#. type: SS
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "Historical notes"
msgstr "Remarques historiques"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid "For many years, this manual page carried the following text:"
msgstr ""
"Pendant de nombreuses années, cette page de manuel comportait le texte "
"suivant :"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
msgid ""
"B<pivot_root>()  may or may not change the current root and the current "
"working directory of any processes or threads which use the old root "
"directory.  The caller of B<pivot_root>()  must ensure that processes with "
"root or current working directory at the old root operate correctly in "
"either case.  An easy way to ensure this is to change their root and current "
"working directory to I<new_root> before invoking B<pivot_root>()."
msgstr ""
"B<pivot_root>() peut changer ou non les répertoires racine et de travail en "
"cours de tous les processus et threads qui utilisaient l'ancien répertoire "
"racine. L'appelant de B<pivot_root>() doit s'assurer que les processus ayant "
"pour racine ou répertoire de travail l'ancien répertoire se comportent "
"correctement. Le meilleur moyen est de modifier leur répertoire de travail "
"et répertoire racine pour I<new_root> avant d'invoquer B<pivot_root>()."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"This text, written before the system call implementation was even finalized "
"in the kernel, was probably intended to warn users at that time that the "
"implementation might change before final release.  However, the behavior "
"stated in DESCRIPTION has remained consistent since this system call was "
"first implemented and will not change now."
msgstr ""
"Ce texte, écrit avant même la finalisation de l'implémentation de l'appel "
"système dans le noyau, visait sans doute à avertir les utilisateurs à ce "
"moment là que l'implémentation pourrait changer avant la publication "
"définitive. Toutefois, le comportement indiqué dans DESCRIPTION est resté "
"valable depuis la première implémentation de cet appel système et il ne "
"changera pas maintenant."

#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "EXAMPLES"
msgstr "EXEMPLES"

#.  FIXME
#.  Would it be better, because simpler, to use unshare(2)
#.  rather than clone(2) in the example below?
#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"The program below demonstrates the use of B<pivot_root>()  inside a mount "
"namespace that is created using B<clone>(2).  After pivoting to the root "
"directory named in the program's first command-line argument, the child "
"created by B<clone>(2)  then executes the program named in the remaining "
"command-line arguments."
msgstr ""
"Le programme ci-dessous montre l'utilisation de B<pivot_root>() dans un "
"espace de noms de montage créé en utilisant B<clone>(2). Après avoir changé "
"le répertoire racine appelé dans le premier paramètre de la ligne de "
"commande du programme, l'enfant créé par B<clone>(2) exécute alors le "
"programme nommé dans les autres paramètres de la ligne de commande."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"We demonstrate the program by creating a directory that will serve as the "
"new root filesystem and placing a copy of the (statically linked)  "
"B<busybox>(1)  executable in that directory."
msgstr ""
"Nous montrons le programme en créant un répertoire qui servira de nouveau "
"système de fichiers racine et en mettant une copie de l'exécutable "
"B<busybox>(1) (liée statiquement) dans ce répertoire."

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid ""
"$ B<mkdir /tmp/rootfs>\n"
"$ B<ls -id /tmp/rootfs>    # Show inode number of new root directory\n"
"319459 /tmp/rootfs\n"
"$ B<cp $(which busybox) /tmp/rootfs>\n"
"$ B<PS1=\\(aqbbsh$ \\(aq sudo ./pivot_root_demo /tmp/rootfs /busybox sh>\n"
"bbsh$ B<PATH=/>\n"
"bbsh$ B<busybox ln busybox ln>\n"
"bbsh$ B<ln busybox echo>\n"
"bbsh$ B<ln busybox ls>\n"
"bbsh$ B<ls>\n"
"busybox  echo     ln       ls\n"
"bbsh$ B<ls -id />          # Compare with inode number above\n"
"319459 /\n"
"bbsh$ B<echo \\(aqhello world\\(aq>\n"
"hello world\n"
msgstr ""
"$ B<mkdir /tmp/rootfs>\n"
"$ B<ls -id /tmp/rootfs>    # Numéro d’inœud dans le nouveau répertoire racine\n"
"319459 /tmp/rootfs\n"
"$ B<cp $(which busybox) /tmp/rootfs>\n"
"$ B<PS1=\\(aqbbsh$ \\(aq sudo ./pivot_root_demo /tmp/rootfs /busybox sh>\n"
"bbsh$ B<PATH=/>\n"
"bbsh$ B<busybox ln busybox ln>\n"
"bbsh$ B<ln busybox echo>\n"
"bbsh$ B<ln busybox ls>\n"
"bbsh$ B<ls>\n"
"busybox  echo     ln       ls\n"
"bbsh$ B<ls -id />          # Comparaison avec le numéro d’inœud au-dessus\n"
"319459 /\n"
"bbsh$ B<echo \\(aqhello world\\(aq>\n"
"hello world\n"

#. type: SS
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "Program source"
msgstr "Source du programme"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "/* pivot_root_demo.c */\n"
msgstr "/* pivot_root_demo.c */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "#define _GNU_SOURCE\n"
#| "#include E<lt>sched.hE<gt>\n"
#| "#include E<lt>stdio.hE<gt>\n"
#| "#include E<lt>stdlib.hE<gt>\n"
#| "#include E<lt>unistd.hE<gt>\n"
#| "#include E<lt>sys/wait.hE<gt>\n"
#| "#include E<lt>sys/syscall.hE<gt>\n"
#| "#include E<lt>sys/mount.hE<gt>\n"
#| "#include E<lt>sys/stat.hE<gt>\n"
#| "#include E<lt>limits.hE<gt>\n"
#| "#include E<lt>sys/mman.hE<gt>\n"
msgid ""
"#define _GNU_SOURCE\n"
"#include E<lt>err.hE<gt>\n"
"#include E<lt>limits.hE<gt>\n"
"#include E<lt>sched.hE<gt>\n"
"#include E<lt>signal.hE<gt>\n"
"#include E<lt>stdio.hE<gt>\n"
"#include E<lt>stdlib.hE<gt>\n"
"#include E<lt>sys/mman.hE<gt>\n"
"#include E<lt>sys/mount.hE<gt>\n"
"#include E<lt>sys/stat.hE<gt>\n"
"#include E<lt>sys/syscall.hE<gt>\n"
"#include E<lt>sys/wait.hE<gt>\n"
"#include E<lt>unistd.hE<gt>\n"
msgstr ""
"#define _GNU_SOURCE\n"
"#include E<lt>sched.hE<gt>\n"
"#include E<lt>stdio.hE<gt>\n"
"#include E<lt>stdlib.hE<gt>\n"
"#include E<lt>unistd.hE<gt>\n"
"#include E<lt>sys/wait.hE<gt>\n"
"#include E<lt>sys/syscall.hE<gt>\n"
"#include E<lt>sys/mount.hE<gt>\n"
"#include E<lt>sys/stat.hE<gt>\n"
"#include E<lt>limits.hE<gt>\n"
"#include E<lt>sys/mman.hE<gt>\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid ""
"static int\n"
"pivot_root(const char *new_root, const char *put_old)\n"
"{\n"
"    return syscall(SYS_pivot_root, new_root, put_old);\n"
"}\n"
msgstr ""
"static int\n"
"pivot_root(const char *new_root, const char *put_old)\n"
"{\n"
"    return syscall(SYS_pivot_root, new_root, put_old);\n"
"}\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "#define STACK_SIZE (1024 * 1024)\n"
msgstr "#define STACK_SIZE (1024 * 1024)\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "static int              /* Startup function for cloned child */\n"
#| "child(void *arg)\n"
#| "{\n"
#| "    char **args = arg;\n"
#| "    char *new_root = args[0];\n"
#| "    const char *put_old = \"/oldrootfs\";\n"
#| "    char path[PATH_MAX];\n"
msgid ""
"static int              /* Startup function for cloned child */\n"
"child(void *arg)\n"
"{\n"
"    char        path[PATH_MAX];\n"
"    char        **args = arg;\n"
"    char        *new_root = args[0];\n"
"    const char  *put_old = \"/oldrootfs\";\n"
msgstr ""
"static int              /* Fonction de démarrage pour l’enfant cloné */\n"
"child(void *arg)\n"
"{\n"
"    char **args = arg;\n"
"    char *new_root = args[0];\n"
"    const char *put_old = \"/oldrootfs\";\n"
"    char path[PATH_MAX];\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid ""
#| "    /* Ensure that \\(aqnew_root\\(aq and its parent mount don\\(aqt have\n"
#| "       shared propagation (which would cause pivot_root() to\n"
#| "       return an error), and prevent propagation of mount\n"
#| "       events to the initial mount namespace */\n"
msgid ""
"    /* Ensure that \\(aqnew_root\\(aq and its parent mount don\\(aqt have\n"
"       shared propagation (which would cause pivot_root() to\n"
"       return an error), and prevent propagation of mount\n"
"       events to the initial mount namespace. */\n"
msgstr ""
"    /* S'assurer que \\(aqnew_root\\(aq et son point de montage parent\n"
"       n’aient pas une propagation partagée (ce qui ferait renvoyer une\n"
"       erreur à pivot_root()) et empêcher la propagation des événements\n"
"       de montage dans l'espace de noms de montage initial */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (mount(NULL, \"/\", NULL, MS_REC | MS_PRIVATE, NULL) == -1)\n"
#| "        errExit(\"mount-MS_PRIVATE\");\n"
msgid ""
"    if (mount(NULL, \"/\", NULL, MS_REC | MS_PRIVATE, NULL) == -1)\n"
"        err(EXIT_FAILURE, \"mount-MS_PRIVATE\");\n"
msgstr ""
"    if (mount(NULL, \"/\", NULL, MS_REC | MS_PRIVATE, NULL) == -1)\n"
"        errExit(\"mount-MS_PRIVATE\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* Ensure that \\(aqnew_root\\(aq is a mount point */\n"
msgid "    /* Ensure that \\(aqnew_root\\(aq is a mount point. */\n"
msgstr "    /* S'assurer que \\(aqnew_root\\(aq soit un point de montage */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (mount(new_root, new_root, NULL, MS_BIND, NULL) == -1)\n"
#| "        errExit(\"mount-MS_BIND\");\n"
msgid ""
"    if (mount(new_root, new_root, NULL, MS_BIND, NULL) == -1)\n"
"        err(EXIT_FAILURE, \"mount-MS_BIND\");\n"
msgstr ""
"    if (mount(new_root, new_root, NULL, MS_BIND, NULL) == -1)\n"
"        errExit(\"mount-MS_BIND\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* Create directory to which old root will be pivoted */\n"
msgid "    /* Create directory to which old root will be pivoted. */\n"
msgstr "    /* Créer le répertoire où l'ancienne racine sera envoyée */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    snprintf(path, sizeof(path), \"%s/%s\", new_root, put_old);\n"
#| "    if (mkdir(path, 0777) == -1)\n"
#| "        errExit(\"mkdir\");\n"
msgid ""
"    snprintf(path, sizeof(path), \"%s/%s\", new_root, put_old);\n"
"    if (mkdir(path, 0777) == -1)\n"
"        err(EXIT_FAILURE, \"mkdir\");\n"
msgstr ""
"    snprintf(path, sizeof(path), \"%s/%s\", new_root, put_old);\n"
"    if (mkdir(path, 0777) == -1)\n"
"        errExit(\"mkdir\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* And pivot the root filesystem */\n"
msgid "    /* And pivot the root filesystem. */\n"
msgstr "    /* Et changer de système de fichiers racine */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (pivot_root(new_root, path) == -1)\n"
#| "        errExit(\"pivot_root\");\n"
msgid ""
"    if (pivot_root(new_root, path) == -1)\n"
"        err(EXIT_FAILURE, \"pivot_root\");\n"
msgstr ""
"    if (pivot_root(new_root, path) == -1)\n"
"        errExit(\"pivot_root\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* Switch the current working directory to \"/\" */\n"
msgid "    /* Switch the current working directory to \"/\". */\n"
msgstr "    /* Déplacer le répertoire de travail dans \"/\" */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (chdir(\"/\") == -1)\n"
#| "        errExit(\"chdir\");\n"
msgid ""
"    if (chdir(\"/\") == -1)\n"
"        err(EXIT_FAILURE, \"chdir\");\n"
msgstr ""
"    if (chdir(\"/\") == -1)\n"
"        errExit(\"chdir\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* Unmount old root and remove mount point */\n"
msgid "    /* Unmount old root and remove mount point. */\n"
msgstr "    /* Démonter l'ancienne racine et supprimer le point de montage */\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (umount2(put_old, MNT_DETACH) == -1)\n"
"        perror(\"umount2\");\n"
"    if (rmdir(put_old) == -1)\n"
"        perror(\"rmdir\");\n"
msgstr ""
"    if (umount2(put_old, MNT_DETACH) == -1)\n"
"        perror(\"umount2\");\n"
"    if (rmdir(put_old) == -1)\n"
"        perror(\"rmdir\");\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "    /* Execute the command specified in argv[1]... */\n"
msgstr "    /* Exécuter la commande indiquée dans argv[1]... */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    execv(args[1], &args[1]);\n"
#| "    errExit(\"execv\");\n"
#| "}\n"
msgid ""
"    execv(args[1], &args[1]);\n"
"    err(EXIT_FAILURE, \"execv\");\n"
"}\n"
msgstr ""
"    execv(args[1], &args[1]);\n"
"    errExit(\"execv\");\n"
"}\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "int\n"
#| "main(int argc, char *argv[])\n"
#| "{\n"
#| "    char *p;\n"
msgid ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    char *stack;\n"
msgstr ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    char *p;\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "int\n"
#| "main(int argc, char *argv[])\n"
#| "{\n"
#| "    /* Create a child process in a new mount namespace */\n"
msgid "    /* Create a child process in a new mount namespace. */\n"
msgstr ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    /* Créer un processus enfant dans un nouvel espace de noms de montage */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    char *stack = mmap(NULL, STACK_SIZE, PROT_READ | PROT_WRITE,\n"
#| "                       MAP_PRIVATE | MAP_ANONYMOUS | MAP_STACK, -1, 0);\n"
#| "    if (stack == MAP_FAILED)\n"
#| "        errExit(\"mmap\");\n"
msgid ""
"    stack = mmap(NULL, STACK_SIZE, PROT_READ | PROT_WRITE,\n"
"                 MAP_PRIVATE | MAP_ANONYMOUS | MAP_STACK, -1, 0);\n"
"    if (stack == MAP_FAILED)\n"
"        err(EXIT_FAILURE, \"mmap\");\n"
msgstr ""
"    char *stack = mmap(NULL, STACK_SIZE, PROT_READ | PROT_WRITE,\n"
"                       MAP_PRIVATE | MAP_ANONYMOUS | MAP_STACK, -1, 0);\n"
"    if (stack == MAP_FAILED)\n"
"        errExit(\"mmap\");\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (clone(child, stack + STACK_SIZE,\n"
#| "                CLONE_NEWNS | SIGCHLD, &argv[1]) == -1)\n"
#| "        errExit(\"clone\");\n"
msgid ""
"    if (clone(child, stack + STACK_SIZE,\n"
"              CLONE_NEWNS | SIGCHLD, &argv[1]) == -1)\n"
"        err(EXIT_FAILURE, \"clone\");\n"
msgstr ""
"    if (clone(child, stack + STACK_SIZE,\n"
"                CLONE_NEWNS | SIGCHLD, &argv[1]) == -1)\n"
"        errExit(\"clone\");\n"

#. type: Plain text
#: archlinux debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid "    /* Parent falls through to here; wait for child */\n"
msgid "    /* Parent falls through to here; wait for child. */\n"
msgstr "    /* Le parent arrive ici ; attendre l'enfant */\n"

#. type: Plain text
#: archlinux
#, fuzzy, no-wrap
#| msgid ""
#| "    if (wait(NULL) == -1)\n"
#| "        errExit(\"wait\");\n"
msgid ""
"    if (wait(NULL) == -1)\n"
"        err(EXIT_FAILURE, \"wait\");\n"
msgstr ""
"    if (wait(NULL) == -1)\n"
"        errExit(\"wait\");\n"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid ""
"    exit(EXIT_SUCCESS);\n"
"}\n"
msgstr ""
"    exit(EXIT_SUCCESS);\n"
"}\n"

#. #-#-#-#-#  archlinux: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#.  SRC END
#. type: SH
#. #-#-#-#-#  debian-bullseye: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  debian-unstable: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  fedora-37: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  fedora-rawhide: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  mageia-cauldron: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  opensuse-leap-15-5: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#. #-#-#-#-#  opensuse-tumbleweed: pivot_root.2.pot (PACKAGE VERSION)  #-#-#-#-#
#. type: SH
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "SEE ALSO"
msgstr "VOIR AUSSI"

#. type: Plain text
#: archlinux debian-bullseye debian-unstable fedora-37 fedora-rawhide
#: mageia-cauldron opensuse-tumbleweed
msgid ""
"B<chdir>(2), B<chroot>(2), B<mount>(2), B<stat>(2), B<initrd>(4), "
"B<mount_namespaces>(7), B<pivot_root>(8), B<switch_root>(8)"
msgstr ""
"B<chdir>(2), B<chroot>(2), B<mount>(2), B<stat>(2), B<initrd>(4), "
"B<mount_namespaces>(7), B<pivot_root>(8), B<switch_root>(8)"

#. type: TH
#: debian-bullseye
#, no-wrap
msgid "2020-11-01"
msgstr "1 novembre 2020"

#. type: TH
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "Linux"
msgstr "Linux"

#. type: TH
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "Linux Programmer's Manual"
msgstr "Manuel du programmeur Linux"

#. type: Plain text
#: debian-bullseye opensuse-leap-15-5
msgid ""
"B<int pivot_root(const char *>I<new_root>B<, const char *>I<put_old>B<);>"
msgstr ""
"B<int pivot_root(const char *>I<new_root>B<, const char *>I<put_old>B<);>"

#. type: Plain text
#: debian-bullseye opensuse-leap-15-5
msgid "I<Note>: There is no glibc wrapper for this system call; see NOTES."
msgstr ""
"I<Note> : il n'existe pas d'enveloppe pour cet appel système dans la glibc ; "
"voir NOTES."

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
msgid ""
"I<put_old> must be at or underneath I<new_root>; that is, adding some "
"nonnegative number of \"I</..>\" prefixes to the pathname pointed to by "
"I<put_old> must yield the same directory as I<new_root>."
msgstr ""
"I<put_old> doit être sur I<new_root> ou un descendant de I<new_root>\\ : à "
"savoir qu'ajouter un nombre positif de préfixes « I</..> » au chemin vers "
"lequel pointe I<put_old> doit ramener au même répertoire que I<new_root>."

#. type: Plain text
#: debian-bullseye opensuse-leap-15-5
msgid ""
"On success, zero is returned.  On error, -1 is returned, and I<errno> is set "
"appropriately."
msgstr ""
"En cas de succès, zéro est renvoyé. En cas d'erreur, B<-1> est renvoyé et "
"I<errno> reçoit une valeur adéquate."

#. type: SH
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-leap-15-5 opensuse-tumbleweed
#, no-wrap
msgid "CONFORMING TO"
msgstr "CONFORMITÉ"

#. type: Plain text
#: debian-bullseye opensuse-leap-15-5
msgid ""
"Glibc does not provide a wrapper for this system call; call it using "
"B<syscall>(2)."
msgstr ""
"La glibc ne fournit pas de fonction autour de cet appel système ; appelez-le "
"avec B<syscall>(2)."

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"#define _GNU_SOURCE\n"
"#include E<lt>sched.hE<gt>\n"
"#include E<lt>stdio.hE<gt>\n"
"#include E<lt>stdlib.hE<gt>\n"
"#include E<lt>unistd.hE<gt>\n"
"#include E<lt>sys/wait.hE<gt>\n"
"#include E<lt>sys/syscall.hE<gt>\n"
"#include E<lt>sys/mount.hE<gt>\n"
"#include E<lt>sys/stat.hE<gt>\n"
"#include E<lt>limits.hE<gt>\n"
"#include E<lt>sys/mman.hE<gt>\n"
msgstr ""
"#define _GNU_SOURCE\n"
"#include E<lt>sched.hE<gt>\n"
"#include E<lt>stdio.hE<gt>\n"
"#include E<lt>stdlib.hE<gt>\n"
"#include E<lt>unistd.hE<gt>\n"
"#include E<lt>sys/wait.hE<gt>\n"
"#include E<lt>sys/syscall.hE<gt>\n"
"#include E<lt>sys/mount.hE<gt>\n"
"#include E<lt>sys/stat.hE<gt>\n"
"#include E<lt>limits.hE<gt>\n"
"#include E<lt>sys/mman.hE<gt>\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"#define errExit(msg)    do { perror(msg); exit(EXIT_FAILURE); \\e\n"
"                        } while (0)\n"
msgstr ""
"#define errExit(msg)    do { perror(msg); exit(EXIT_FAILURE); \\e\n"
"                        } while (0)\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"static int              /* Startup function for cloned child */\n"
"child(void *arg)\n"
"{\n"
"    char **args = arg;\n"
"    char *new_root = args[0];\n"
"    const char *put_old = \"/oldrootfs\";\n"
"    char path[PATH_MAX];\n"
msgstr ""
"static int              /* Fonction de démarrage pour l’enfant cloné */\n"
"child(void *arg)\n"
"{\n"
"    char **args = arg;\n"
"    char *new_root = args[0];\n"
"    const char *put_old = \"/oldrootfs\";\n"
"    char path[PATH_MAX];\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid ""
"    /* Ensure that \\(aqnew_root\\(aq and its parent mount don\\(aqt have\n"
"       shared propagation (which would cause pivot_root() to\n"
"       return an error), and prevent propagation of mount\n"
"       events to the initial mount namespace */\n"
msgstr ""
"    /* S'assurer que \\(aqnew_root\\(aq et son point de montage parent\n"
"       n’aient pas une propagation partagée (ce qui ferait renvoyer une\n"
"       erreur à pivot_root()) et empêcher la propagation des événements\n"
"       de montage dans l'espace de noms de montage initial */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (mount(NULL, \"/\", NULL, MS_REC | MS_PRIVATE, NULL) == -1)\n"
"        errExit(\"mount-MS_PRIVATE\");\n"
msgstr ""
"    if (mount(NULL, \"/\", NULL, MS_REC | MS_PRIVATE, NULL) == -1)\n"
"        errExit(\"mount-MS_PRIVATE\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* Ensure that \\(aqnew_root\\(aq is a mount point */\n"
msgstr "    /* S'assurer que \\(aqnew_root\\(aq soit un point de montage */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (mount(new_root, new_root, NULL, MS_BIND, NULL) == -1)\n"
"        errExit(\"mount-MS_BIND\");\n"
msgstr ""
"    if (mount(new_root, new_root, NULL, MS_BIND, NULL) == -1)\n"
"        errExit(\"mount-MS_BIND\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* Create directory to which old root will be pivoted */\n"
msgstr "    /* Créer le répertoire où l'ancienne racine sera envoyée */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    snprintf(path, sizeof(path), \"%s/%s\", new_root, put_old);\n"
"    if (mkdir(path, 0777) == -1)\n"
"        errExit(\"mkdir\");\n"
msgstr ""
"    snprintf(path, sizeof(path), \"%s/%s\", new_root, put_old);\n"
"    if (mkdir(path, 0777) == -1)\n"
"        errExit(\"mkdir\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* And pivot the root filesystem */\n"
msgstr "    /* Et changer de système de fichiers racine */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (pivot_root(new_root, path) == -1)\n"
"        errExit(\"pivot_root\");\n"
msgstr ""
"    if (pivot_root(new_root, path) == -1)\n"
"        errExit(\"pivot_root\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* Switch the current working directory to \"/\" */\n"
msgstr "    /* Déplacer le répertoire de travail dans \"/\" */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (chdir(\"/\") == -1)\n"
"        errExit(\"chdir\");\n"
msgstr ""
"    if (chdir(\"/\") == -1)\n"
"        errExit(\"chdir\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* Unmount old root and remove mount point */\n"
msgstr "    /* Démonter l'ancienne racine et supprimer le point de montage */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    execv(args[1], &args[1]);\n"
"    errExit(\"execv\");\n"
"}\n"
msgstr ""
"    execv(args[1], &args[1]);\n"
"    errExit(\"execv\");\n"
"}\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    /* Create a child process in a new mount namespace */\n"
msgstr ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    /* Créer un processus enfant dans un nouvel espace de noms de montage */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    char *stack = mmap(NULL, STACK_SIZE, PROT_READ | PROT_WRITE,\n"
"                       MAP_PRIVATE | MAP_ANONYMOUS | MAP_STACK, -1, 0);\n"
"    if (stack == MAP_FAILED)\n"
"        errExit(\"mmap\");\n"
msgstr ""
"    char *stack = mmap(NULL, STACK_SIZE, PROT_READ | PROT_WRITE,\n"
"                       MAP_PRIVATE | MAP_ANONYMOUS | MAP_STACK, -1, 0);\n"
"    if (stack == MAP_FAILED)\n"
"        errExit(\"mmap\");\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (clone(child, stack + STACK_SIZE,\n"
"                CLONE_NEWNS | SIGCHLD, &argv[1]) == -1)\n"
"        errExit(\"clone\");\n"
msgstr ""
"    if (clone(child, stack + STACK_SIZE,\n"
"                CLONE_NEWNS | SIGCHLD, &argv[1]) == -1)\n"
"        errExit(\"clone\");\n"

#. type: Plain text
#: debian-bullseye
#, no-wrap
msgid "    /* Parent falls through to here; wait for child */\n"
msgstr "    /* Le parent arrive ici ; attendre l'enfant */\n"

#. type: Plain text
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-tumbleweed
#, no-wrap
msgid ""
"    if (wait(NULL) == -1)\n"
"        errExit(\"wait\");\n"
msgstr ""
"    if (wait(NULL) == -1)\n"
"        errExit(\"wait\");\n"

#. type: SH
#: debian-bullseye debian-unstable fedora-37 fedora-rawhide mageia-cauldron
#: opensuse-leap-15-5
#, no-wrap
msgid "COLOPHON"
msgstr "COLOPHON"

#. type: Plain text
#: debian-bullseye
msgid ""
"This page is part of release 5.10 of the Linux I<man-pages> project.  A "
"description of the project, information about reporting bugs, and the latest "
"version of this page, can be found at \\%https://www.kernel.org/doc/man-"
"pages/."
msgstr ""
"Cette page fait partie de la publication 5.10 du projet I<man-pages> Linux. "
"Une description du projet et des instructions pour signaler des anomalies et "
"la dernière version de cette page peuvent être trouvées à l'adresse \\"
"%https://www.kernel.org/doc/man-pages/."

#. type: TH
#: debian-unstable fedora-37 fedora-rawhide mageia-cauldron opensuse-tumbleweed
#, no-wrap
msgid "2021-03-22"
msgstr "22 mars 2021"

#. type: Plain text
#: debian-unstable fedora-37 fedora-rawhide mageia-cauldron opensuse-tumbleweed
#, fuzzy, no-wrap
#| msgid ""
#| "int\n"
#| "main(int argc, char *argv[])\n"
#| "{\n"
#| "    /* Create a child process in a new mount namespace */\n"
msgid ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    /* Create a child process in a new mount namespace. */\n"
msgstr ""
"int\n"
"main(int argc, char *argv[])\n"
"{\n"
"    /* Créer un processus enfant dans un nouvel espace de noms de montage */\n"

#. type: Plain text
#: debian-unstable fedora-37 fedora-rawhide mageia-cauldron
msgid ""
"This page is part of release 5.13 of the Linux I<man-pages> project.  A "
"description of the project, information about reporting bugs, and the latest "
"version of this page, can be found at \\%https://www.kernel.org/doc/man-"
"pages/."
msgstr ""
"Cette page fait partie de la publication 5.13 du projet I<man-pages> Linux. "
"Une description du projet et des instructions pour signaler des anomalies et "
"la dernière version de cette page peuvent être trouvées à l'adresse \\"
"%https://www.kernel.org/doc/man-pages/."

#. type: TH
#: opensuse-leap-15-5
#, no-wrap
msgid "2017-09-15"
msgstr "15 septembre 2017"

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid "pivot_root - change the root mount"
msgid "pivot_root - change the root filesystem"
msgstr "pivot_root - Modifier le montage racine"

#
#.  The
#.  .B CAP_SYS_ADMIN
#.  capability is required.
#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"B<pivot_root>()  moves the root filesystem of the calling process to the "
"directory I<put_old> and makes I<new_root> the new root filesystem of the "
"calling process."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "One use of B<pivot_root>()  is during system startup, when the system "
#| "mounts a temporary root filesystem (e.g., an B<initrd>(4)), then mounts "
#| "the real root filesystem, and eventually turns the latter into the root "
#| "directory of all relevant processes and threads.  A modern use is to set "
#| "up a root filesystem during the creation of a container."
msgid ""
"The typical use of B<pivot_root>()  is during system startup, when the "
"system mounts a temporary root filesystem (e.g., an B<initrd>), then mounts "
"the real root filesystem, and eventually turns the latter into the current "
"root of all relevant processes or threads."
msgstr ""
"L'utilisation typique de B<pivot_root>() est durant le démarrage du système, "
"lorsque le système monte un système de fichiers temporaire (par exemple un "
"B<initrd>(4)) puis monte le véritable système de fichiers et le transforme "
"éventuellement en racine pour tous les processus et threads concernés. Une "
"utilisation moderne consiste à définir un système de fichiers racine pendant "
"la création d'un conteneur."

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"The paragraph above is intentionally vague because the implementation of "
"B<pivot_root>()  may change in the future.  At the time of writing, "
"B<pivot_root>()  changes root and current working directory of each process "
"or thread to I<new_root> if they point to the old root directory.  This is "
"necessary in order to prevent kernel threads from keeping the old root "
"directory busy with their root and current working directory, even if they "
"never access the filesystem in any way.  In the future, there may be a "
"mechanism for kernel threads to explicitly relinquish any access to the "
"filesystem, such that this fairly intrusive mechanism can be removed from "
"B<pivot_root>()."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"Note that this also applies to the calling process: B<pivot_root>()  may or "
"may not affect its current working directory.  It is therefore recommended "
"to call B<chdir(\"/\")> immediately after B<pivot_root>()."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid "The following restrictions apply:"
msgid "The following restrictions apply to I<new_root> and I<put_old>:"
msgstr "Les restrictions suivantes s'appliquent\\ :"

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid "I<new_root> and I<put_old> must be directories."
msgid "They must be directories."
msgstr "I<new_root> et I<put_old> doivent être des répertoires."

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "I<new_root> and I<put_old> must not be on the same mount as the current "
#| "root."
msgid ""
"I<new_root> and I<put_old> must not be on the same filesystem as the current "
"root."
msgstr ""
"I<new_root> et I<put_old> ne doivent pas être sur le même montage que la "
"racine actuelle."

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "I<put_old> must be at or underneath I<new_root>; that is, adding some "
#| "nonnegative number of \"I</..>\" prefixes to the pathname pointed to by "
#| "I<put_old> must yield the same directory as I<new_root>."
msgid ""
"I<put_old> must be underneath I<new_root>, that is, adding a nonzero number "
"of I</..> to the string pointed to by I<put_old> must yield the same "
"directory as I<new_root>."
msgstr ""
"I<put_old> doit être sur I<new_root> ou un descendant de I<new_root>\\ : à "
"savoir qu'ajouter un nombre positif de préfixes « I</..> » au chemin vers "
"lequel pointe I<put_old> doit ramener au même répertoire que I<new_root>."

#. type: Plain text
#: opensuse-leap-15-5
msgid "No other filesystem may be mounted on I<put_old>."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
msgid "See also B<pivot_root>(8)  for additional usage examples."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"If the current root is not a mount point (e.g., after B<chroot>(2)  or "
"B<pivot_root>(), see also below), not the old root directory, but the mount "
"point of that filesystem is mounted on I<put_old>."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"I<new_root> does not have to be a mount point.  In this case, I</proc/"
"mounts> will show the mount point of the filesystem containing I<new_root> "
"as root (I</>)."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "B<pivot_root>()  may fail with any of the same errors as B<stat>(2).  "
#| "Additionally, it may fail with the following errors:"
msgid ""
"B<pivot_root>()  may return (in I<errno>) any of the errors returned by "
"B<stat>(2).  Additionally, it may return:"
msgstr ""
"B<pivot_root>() peut échouer avec une des erreurs de B<stat>(2). Il peut "
"aussi échouer avec les erreurs suivantes\\ :"

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "I<new_root> or I<put_old> is on the current root mount.  (This error "
#| "covers the pathological case where I<new_root> is I<\"/\">.)"
msgid ""
"I<new_root> or I<put_old> are on the current root filesystem, or a "
"filesystem is already mounted on I<put_old>."
msgstr ""
"I<new_root> ou I<put_old> est sur le montage racine actuel (cette erreur "
"vaut pour le cas pathologique où I<new_root> est « / »."

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid "I<put_old> is not at or underneath I<new_root>."
msgid "I<put_old> is not underneath I<new_root>."
msgstr "I<put_old> n'est pas sur I<new_root> ou un descendant."

#. type: SH
#: opensuse-leap-15-5
#, no-wrap
msgid "BUGS"
msgstr "BOGUES"

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"B<pivot_root>()  should not have to change root and current working "
"directory of all other processes in the system."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"Some of the more obscure uses of B<pivot_root>()  may quickly lead to "
"insanity."
msgstr ""

#. type: Plain text
#: opensuse-leap-15-5
#, fuzzy
#| msgid ""
#| "B<chdir>(2), B<chroot>(2), B<mount>(2), B<stat>(2), B<initrd>(4), "
#| "B<mount_namespaces>(7), B<pivot_root>(8), B<switch_root>(8)"
msgid ""
"B<chdir>(2), B<chroot>(2), B<stat>(2), B<initrd>(4), B<pivot_root>(8), "
"B<switch_root>(8)"
msgstr ""
"B<chdir>(2), B<chroot>(2), B<mount>(2), B<stat>(2), B<initrd>(4), "
"B<mount_namespaces>(7), B<pivot_root>(8), B<switch_root>(8)"

#. type: Plain text
#: opensuse-leap-15-5
msgid ""
"This page is part of release 4.16 of the Linux I<man-pages> project.  A "
"description of the project, information about reporting bugs, and the latest "
"version of this page, can be found at \\%https://www.kernel.org/doc/man-"
"pages/."
msgstr ""
"Cette page fait partie de la publication 4.16 du projet I<man-pages> Linux. "
"Une description du projet et des instructions pour signaler des anomalies et "
"la dernière version de cette page peuvent être trouvées à l'adresse \\"
"%https://www.kernel.org/doc/man-pages/."
