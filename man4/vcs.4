.\" Copyright (c) 1995 James R. Van Zandt <jrv@vanzandt.mv.com>
.\" Sat Feb 18 09:11:07 EST 1995
.\" Copyright 1996 C.Schmidt - deutsche šbersetzung (c.schmidt@ius.gun.de)
.\" Interner Versionslevel (Deutsche Version) : 0.1 
.\" nur bersetzt, nicht korrekturgelesen... 
.\"
.\" Wenn jemand sich über Rechtschreibfehler bzw. eine fehlerhafte Über-
.\" setzung aufregen möchte so kann er das /dev/null mitteilen.
.\" (Schließlich übersetze ich diese Dinger um meine Englischkenntnisse
.\"  aufzubessern... ;-))          
.\"
.\" KONSTRUKTIVE Kritik oder ein netter Hinweis auf Fehler, aller
.\" Art, würden mich aber freuen. Danke!
.\"
.\" Nach dem Übersetzen dieser Manualpages muß ich "vermeindlich
.\" schlecht eingedeutschte Bedinungsanleitungen" auch aus einem
.\" anderen Blickwinkel betrachten ;-)))
.\"
.\" Folgendes lass ich mal so steh'n ;-)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Modified, Sun Feb 26 15:08:05 1995, faith@cs.unc.edu
.\" Modified Mon Jun 10 01:48:31 1996 by Martin Schulze (joey@linux.de)
.\" "
.TH VCS 4 "Januar 1996 " "Linux" "Gerätedateien"
.SH BEZEICHNUNG
vcs, vcsa \- Virtueller Speicher für die Bildschirmausgabe
.SH BESCHREIBUNG
.B /dev/vcs0
ist ein zeichenorientiertes Device mit der 
.B major 
Nummer 
.B 7
und der 
.B minor 
Nummer
.B 0 .
Das Device gehört üblicherweise 
.B root.tty
und besitzt die Zugriffsrechte
.B 0644.
.PP
Es verweist auf den Speicher der aktuell benutzten virtuellen
Konsole.
.LP
.B /dev/vcs[1-63]
sind die \(lqcharacter\(rq (zeichenorientierten)
Devices für die virtuellen Konsolen und benutzen ebenfalls die major
Nummer
.B 7
und die minor Nummer'n
.B 1-63.
.LP
.BR /dev/vcsa[0-63] " sind gleichzusetzen mit " /dev/vcs[0-63] ","
besitzen aber eigene Attribute und sind durch 4 Byte für die Bildschirmgröße
und Cursorposition vorgezeichnet.
.IR lines ", " columns ", " x ", " y ". (" x " = " y " = 0 = Links,"
Oben auf dem Bildschirm.)
.PP
Diese Ersetzen die \(lqScreendump\(rq ioctls der
.BR console (4),
so daß der System Administrator die Rechte für die einzelnen Konsolen
durch das Setzen von normalen Dateisystem Attributen vergeben kann.
.PP
Die Devices werden wie üblich mit dem Programm mknod eingerichtet:
.LP
.nf
	for x in 0 1 2 3 4 5 6 7 8; do 
		mknod -m 644 /dev/vcs$x c 7 $x;
		mknod -m 644 /dev/vcsa$x c 7 $[$x+128];
	done
	chown root.tty /dev/vcs*
.fi
.B ioctl()
Aufrufe werden nicht unterstützt..  
.SH BEISPIELE
Um z.B. einen \(lqScreendump\(rq von vt3 zu erzeugen, wechselt
man von vt3 auf vt1 und gibt folgendes ein:
.LP
.IR "cat /dev/vcs3 >foo" .

Das folgende Programm zeigt die Zeichen- und Bildschirm Attribute
unter dem Cursor der zweiten virtuellen Konsole und andert danach
die Bildschirmfarbe derselben.

.nf
	#include <unistd.h>
	#include <stdio.h>
	#include <fcntl.h>

	void main()
	{	int fd;
		struct {char lines, cols, x, y;} scrn;
		char ch, attrib;

		fd = open("/dev/vcsa2", O_RDWR);
		(void)read(fd, &scrn, 4);
		(void)lseek(fd, 4 + 2*(scrn.y*scrn.cols + scrn.x), 0);
		(void)read(fd, &ch, 1);
		(void)read(fd, &attrib, 1);
		printf("ch='%c' attrib=0x%02x\\n", ch, attrib);
		attrib ^= 0x10;
		(void)lseek(fd, -1, 1);
		(void)write(fd, &attrib, 1);
	}
.fi

.SH DATEIEN
.I /dev/vcs[0-63]
.br
.I /dev/vcsa[0-63]
.SH AUTOR
1995 Andries Brouwer <aeb@cwi.nl>
.SH COPYRIGHT
Copyright \(co 1995 James R. Van Zandt <jrv@vanzandt.mv.com>
.PP
Copyright \(co 1996 Christian Schmidt <c.schmidt@ius.gun.de>
                      deutsche Version
.PP
Dieses Manual darf sowohl in der Original, als auch in der deutschen
Version mit folgender Einschränkung benutzt, Vervielfältigt und Vertrieben
werden.  Dieser Copyright Abschnitt und der \(lqHeader\(rq muß unverändert
in allen Kopien beibehalten werden.  Ferner sind die zusätzlichen Vereinbarungen
im \(lqHeader\(rq dieses Manuals zu beachten.
.SH GESCHICHTE
Eingeführt ab der Version 1.1.92 des Linux Kernels.
.SH "SIEHE AUCH"
.BR console (4),
.BR tty (4),
.BR ttys (4),
.BR selection (1).

